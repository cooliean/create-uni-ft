#!/usr/bin/env node
"use strict";var xo=Object.create;var bi=Object.defineProperty;var So=Object.getOwnPropertyDescriptor;var Oo=Object.getOwnPropertyNames;var $o=Object.getPrototypeOf,qo=Object.prototype.hasOwnProperty;var a=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports);var To=(i,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Oo(t))!qo.call(i,s)&&s!==e&&bi(i,s,{get:()=>t[s],enumerable:!(r=So(t,s))||r.enumerable});return i};var D=(i,t,e)=>(e=i!=null?xo($o(i)):{},To(t||!i||!i.__esModule?bi(e,"default",{value:i,enumerable:!0}):e,i));var Oi=a((Oa,Si)=>{"use strict";function Mo(i,t){var e=i;t.slice(0,-1).forEach(function(s){e=e[s]||{}});var r=t[t.length-1];return r in e}function wi(i){return typeof i=="number"||/^0x[0-9a-f]+$/i.test(i)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(i)}function xi(i,t){return t==="constructor"&&typeof i[t]=="function"||t==="__proto__"}Si.exports=function(i,t){t||(t={});var e={bools:{},strings:{},unknownFn:null};typeof t.unknown=="function"&&(e.unknownFn=t.unknown),typeof t.boolean=="boolean"&&t.boolean?e.allBools=!0:[].concat(t.boolean).filter(Boolean).forEach(function(f){e.bools[f]=!0});var r={};function s(f){return r[f].some(function(O){return e.bools[O]})}Object.keys(t.alias||{}).forEach(function(f){r[f]=[].concat(t.alias[f]),r[f].forEach(function(O){r[O]=[f].concat(r[f].filter(function(G){return O!==G}))})}),[].concat(t.string).filter(Boolean).forEach(function(f){e.strings[f]=!0,r[f]&&[].concat(r[f]).forEach(function(O){e.strings[O]=!0})});var n=t.default||{},o={_:[]};function h(f,O){return e.allBools&&/^--[^=]+$/.test(O)||e.strings[f]||e.bools[f]||r[f]}function l(f,O,G){for(var g=f,gt=0;gt<O.length-1;gt++){var R=O[gt];if(xi(g,R))return;g[R]===void 0&&(g[R]={}),(g[R]===Object.prototype||g[R]===Number.prototype||g[R]===String.prototype)&&(g[R]={}),g[R]===Array.prototype&&(g[R]=[]),g=g[R]}var U=O[O.length-1];xi(g,U)||((g===Object.prototype||g===Number.prototype||g===String.prototype)&&(g={}),g===Array.prototype&&(g=[]),g[U]===void 0||e.bools[U]||typeof g[U]=="boolean"?g[U]=G:Array.isArray(g[U])?g[U].push(G):g[U]=[g[U],G])}function u(f,O,G){if(!(G&&e.unknownFn&&!h(f,G)&&e.unknownFn(G)===!1)){var g=!e.strings[f]&&wi(O)?Number(O):O;l(o,f.split("."),g),(r[f]||[]).forEach(function(gt){l(o,gt.split("."),g)})}}Object.keys(e.bools).forEach(function(f){u(f,n[f]===void 0?!1:n[f])});var T=[];i.indexOf("--")!==-1&&(T=i.slice(i.indexOf("--")+1),i=i.slice(0,i.indexOf("--")));for(var b=0;b<i.length;b++){var c=i[b],p,q;if(/^--.+=/.test(c)){var mt=c.match(/^--([^=]+)=([\s\S]*)$/);p=mt[1];var I=mt[2];e.bools[p]&&(I=I!=="false"),u(p,I,c)}else if(/^--no-.+/.test(c))p=c.match(/^--no-(.+)/)[1],u(p,!1,c);else if(/^--.+/.test(c))p=c.match(/^--(.+)/)[1],q=i[b+1],q!==void 0&&!/^(-|--)[^-]/.test(q)&&!e.bools[p]&&!e.allBools&&(!r[p]||!s(p))?(u(p,q,c),b+=1):/^(true|false)$/.test(q)?(u(p,q==="true",c),b+=1):u(p,e.strings[p]?"":!0,c);else if(/^-[^-]+/.test(c)){for(var S=c.slice(1,-1).split(""),V=!1,M=0;M<S.length;M++){if(q=c.slice(M+2),q==="-"){u(S[M],q,c);continue}if(/[A-Za-z]/.test(S[M])&&q[0]==="="){u(S[M],q.slice(1),c),V=!0;break}if(/[A-Za-z]/.test(S[M])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(q)){u(S[M],q,c),V=!0;break}if(S[M+1]&&S[M+1].match(/\W/)){u(S[M],c.slice(M+2),c),V=!0;break}else u(S[M],e.strings[S[M]]?"":!0,c)}p=c.slice(-1)[0],!V&&p!=="-"&&(i[b+1]&&!/^(-|--)[^-]/.test(i[b+1])&&!e.bools[p]&&(!r[p]||!s(p))?(u(p,i[b+1],c),b+=1):i[b+1]&&/^(true|false)$/.test(i[b+1])?(u(p,i[b+1]==="true",c),b+=1):u(p,e.strings[p]?"":!0,c))}else if((!e.unknownFn||e.unknownFn(c)!==!1)&&o._.push(e.strings._||!wi(c)?c:Number(c)),t.stopEarly){o._.push.apply(o._,i.slice(b+1));break}}return Object.keys(n).forEach(function(f){Mo(o,f.split("."))||(l(o,f.split("."),n[f]),(r[f]||[]).forEach(function(O){l(o,O.split("."),n[f])}))}),t["--"]?o["--"]=T.slice():T.forEach(function(f){o._.push(f)}),o}});var y=a(($a,qi)=>{"use strict";var{FORCE_COLOR:Po,NODE_DISABLE_COLORS:_o,TERM:Co}=process.env,m={enabled:!_o&&Co!=="dumb"&&Po!=="0",reset:v(0,0),bold:v(1,22),dim:v(2,22),italic:v(3,23),underline:v(4,24),inverse:v(7,27),hidden:v(8,28),strikethrough:v(9,29),black:v(30,39),red:v(31,39),green:v(32,39),yellow:v(33,39),blue:v(34,39),magenta:v(35,39),cyan:v(36,39),white:v(37,39),gray:v(90,39),grey:v(90,39),bgBlack:v(40,49),bgRed:v(41,49),bgGreen:v(42,49),bgYellow:v(43,49),bgBlue:v(44,49),bgMagenta:v(45,49),bgCyan:v(46,49),bgWhite:v(47,49)};function $i(i,t){let e=0,r,s="",n="";for(;e<i.length;e++)r=i[e],s+=r.open,n+=r.close,t.includes(r.close)&&(t=t.replace(r.rgx,r.close+r.open));return s+t+n}function Do(i,t){let e={has:i,keys:t};return e.reset=m.reset.bind(e),e.bold=m.bold.bind(e),e.dim=m.dim.bind(e),e.italic=m.italic.bind(e),e.underline=m.underline.bind(e),e.inverse=m.inverse.bind(e),e.hidden=m.hidden.bind(e),e.strikethrough=m.strikethrough.bind(e),e.black=m.black.bind(e),e.red=m.red.bind(e),e.green=m.green.bind(e),e.yellow=m.yellow.bind(e),e.blue=m.blue.bind(e),e.magenta=m.magenta.bind(e),e.cyan=m.cyan.bind(e),e.white=m.white.bind(e),e.gray=m.gray.bind(e),e.grey=m.grey.bind(e),e.bgBlack=m.bgBlack.bind(e),e.bgRed=m.bgRed.bind(e),e.bgGreen=m.bgGreen.bind(e),e.bgYellow=m.bgYellow.bind(e),e.bgBlue=m.bgBlue.bind(e),e.bgMagenta=m.bgMagenta.bind(e),e.bgCyan=m.bgCyan.bind(e),e.bgWhite=m.bgWhite.bind(e),e}function v(i,t){let e={open:`\x1B[${i}m`,close:`\x1B[${t}m`,rgx:new RegExp(`\\x1b\\[${t}m`,"g")};return function(r){return this!==void 0&&this.has!==void 0?(this.has.includes(i)||(this.has.push(i),this.keys.push(e)),r===void 0?this:m.enabled?$i(this.keys,r+""):r+""):r===void 0?Do([i],[e]):m.enabled?$i([e],r+""):r+""}}qi.exports=m});var Mi=a((qa,Ti)=>{"use strict";Ti.exports=(i,t)=>{if(!(i.meta&&i.name!=="escape")){if(i.ctrl){if(i.name==="a")return"first";if(i.name==="c"||i.name==="d")return"abort";if(i.name==="e")return"last";if(i.name==="g")return"reset"}if(t){if(i.name==="j")return"down";if(i.name==="k")return"up"}return i.name==="return"||i.name==="enter"?"submit":i.name==="backspace"?"delete":i.name==="delete"?"deleteForward":i.name==="abort"?"abort":i.name==="escape"?"exit":i.name==="tab"?"next":i.name==="pagedown"?"nextPage":i.name==="pageup"?"prevPage":i.name==="home"?"home":i.name==="end"?"end":i.name==="up"?"up":i.name==="down"?"down":i.name==="right"?"right":i.name==="left"?"left":!1}}});var Dt=a((Ta,Pi)=>{"use strict";Pi.exports=i=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),e=new RegExp(t,"g");return typeof i=="string"?i.replace(e,""):i}});var x=a((Ma,_i)=>{"use strict";var te="\x1B",w=`${te}[`,Io="\x07",ee={to(i,t){return t?`${w}${t+1};${i+1}H`:`${w}${i+1}G`},move(i,t){let e="";return i<0?e+=`${w}${-i}D`:i>0&&(e+=`${w}${i}C`),t<0?e+=`${w}${-t}A`:t>0&&(e+=`${w}${t}B`),e},up:(i=1)=>`${w}${i}A`,down:(i=1)=>`${w}${i}B`,forward:(i=1)=>`${w}${i}C`,backward:(i=1)=>`${w}${i}D`,nextLine:(i=1)=>`${w}E`.repeat(i),prevLine:(i=1)=>`${w}F`.repeat(i),left:`${w}G`,hide:`${w}?25l`,show:`${w}?25h`,save:`${te}7`,restore:`${te}8`},Eo={up:(i=1)=>`${w}S`.repeat(i),down:(i=1)=>`${w}T`.repeat(i)},jo={screen:`${w}2J`,up:(i=1)=>`${w}1J`.repeat(i),down:(i=1)=>`${w}J`.repeat(i),line:`${w}2K`,lineEnd:`${w}K`,lineStart:`${w}1K`,lines(i){let t="";for(let e=0;e<i;e++)t+=this.line+(e<i-1?ee.up():"");return i&&(t+=ee.left),t}};_i.exports={cursor:ee,scroll:Eo,erase:jo,beep:Io}});var ji=a((Pa,Ei)=>{"use strict";function Ao(i,t){var e=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!e){if(Array.isArray(i)||(e=Ro(i))||t&&i&&typeof i.length=="number"){e&&(i=e);var r=0,s=function(){};return{s,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,o=!1,h;return{s:function(){e=e.call(i)},n:function(){var u=e.next();return n=u.done,u},e:function(u){o=!0,h=u},f:function(){try{!n&&e.return!=null&&e.return()}finally{if(o)throw h}}}}function Ro(i,t){if(i){if(typeof i=="string")return Ci(i,t);var e=Object.prototype.toString.call(i).slice(8,-1);if(e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set")return Array.from(i);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ci(i,t)}}function Ci(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=i[e];return r}var Fo=Dt(),Ii=x(),Di=Ii.erase,Lo=Ii.cursor,No=i=>[...Fo(i)].length;Ei.exports=function(i,t){if(!t)return Di.line+Lo.to(0);let e=0,r=i.split(/\r?\n/);var s=Ao(r),n;try{for(s.s();!(n=s.n()).done;){let o=n.value;e+=1+Math.floor(Math.max(No(o)-1,0)/t)}}catch(o){s.e(o)}finally{s.f()}return Di.lines(e)}});var ie=a((_a,Ai)=>{"use strict";var vt={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},Yo={arrowUp:vt.arrowUp,arrowDown:vt.arrowDown,arrowLeft:vt.arrowLeft,arrowRight:vt.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},ko=process.platform==="win32"?Yo:vt;Ai.exports=ko});var Fi=a((Ca,Ri)=>{"use strict";var at=y(),nt=ie(),re=Object.freeze({password:{scale:1,render:i=>"*".repeat(i.length)},emoji:{scale:2,render:i=>"\u{1F603}".repeat(i.length)},invisible:{scale:0,render:i=>""},default:{scale:1,render:i=>`${i}`}}),Bo=i=>re[i]||re.default,yt=Object.freeze({aborted:at.red(nt.cross),done:at.green(nt.tick),exited:at.yellow(nt.cross),default:at.cyan("?")}),Ho=(i,t,e)=>t?yt.aborted:e?yt.exited:i?yt.done:yt.default,Vo=i=>at.gray(i?nt.ellipsis:nt.pointerSmall),Go=(i,t)=>at.gray(i?t?nt.pointerSmall:"+":nt.line);Ri.exports={styles:re,render:Bo,symbols:yt,symbol:Ho,delimiter:Vo,item:Go}});var Ni=a((Da,Li)=>{"use strict";var Uo=Dt();Li.exports=function(i,t){let e=String(Uo(i)||"").split(/\r?\n/);return t?e.map(r=>Math.ceil(r.length/t)).reduce((r,s)=>r+s):e.length}});var ki=a((Ia,Yi)=>{"use strict";Yi.exports=(i,t={})=>{let e=Number.isSafeInteger(parseInt(t.margin))?new Array(parseInt(t.margin)).fill(" ").join(""):t.margin||"",r=t.width;return(i||"").split(/\r?\n/g).map(s=>s.split(/\s+/g).reduce((n,o)=>(o.length+e.length>=r||n[n.length-1].length+o.length+1<r?n[n.length-1]+=` ${o}`:n.push(`${e}${o}`),n),[e]).join(`
`)).join(`
`)}});var Hi=a((Ea,Bi)=>{"use strict";Bi.exports=(i,t,e)=>{e=e||t;let r=Math.min(t-e,i-Math.floor(e/2));r<0&&(r=0);let s=Math.min(r+e,t);return{startIndex:r,endIndex:s}}});var j=a((ja,Vi)=>{"use strict";Vi.exports={action:Mi(),clear:ji(),style:Fi(),strip:Dt(),figures:ie(),lines:Ni(),wrap:ki(),entriesToDisplay:Hi()}});var J=a((Aa,Ji)=>{"use strict";var Gi=require("readline"),Jo=j(),Wo=Jo.action,zo=require("events"),Ui=x(),Ko=Ui.beep,Zo=Ui.cursor,Xo=y(),se=class extends zo{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);let e=Gi.createInterface({input:this.in,escapeCodeTimeout:50});Gi.emitKeypressEvents(this.in,e),this.in.isTTY&&this.in.setRawMode(!0);let r=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,s=(n,o)=>{let h=Wo(o,r);h===!1?this._&&this._(n,o):typeof this[h]=="function"?this[h](o):this.bell()};this.close=()=>{this.out.write(Zo.show),this.in.removeListener("keypress",s),this.in.isTTY&&this.in.setRawMode(!1),e.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",s)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Ko)}render(){this.onRender(Xo),this.firstRender&&(this.firstRender=!1)}};Ji.exports=se});var Xi=a((Ra,Zi)=>{"use strict";function Wi(i,t,e,r,s,n,o){try{var h=i[n](o),l=h.value}catch(u){e(u);return}h.done?t(l):Promise.resolve(l).then(r,s)}function zi(i){return function(){var t=this,e=arguments;return new Promise(function(r,s){var n=i.apply(t,e);function o(l){Wi(n,r,s,o,h,"next",l)}function h(l){Wi(n,r,s,o,h,"throw",l)}o(void 0)})}}var It=y(),Qo=J(),Ki=x(),th=Ki.erase,wt=Ki.cursor,Et=j(),ne=Et.style,oe=Et.clear,eh=Et.lines,ih=Et.figures,he=class extends Qo{constructor(t={}){super(t),this.transform=ne.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=oe("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=It.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var t=this;return zi(function*(){let e=yield t.validator(t.value);typeof e=="string"&&(t.errorMsg=e,e=!1),t.error=!e})()}submit(){var t=this;return zi(function*(){if(t.value=t.value||t.initial,t.cursorOffset=0,t.cursor=t.rendered.length,yield t.validate(),t.error){t.red=!0,t.fire(),t.render();return}t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write(`
`),t.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let r=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${r}${t}${s}`,this.red=!1,this.cursor=this.placeholder?0:r.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(wt.down(eh(this.outputError,this.out.columns)-1)+oe(this.outputError,this.out.columns)),this.out.write(oe(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[ne.symbol(this.done,this.aborted),It.bold(this.msg),ne.delimiter(this.done),this.red?It.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((t,e,r)=>t+`
${r?" ":ih.pointerSmall} ${It.red().italic(e)}`,"")),this.out.write(th.line+wt.to(0)+this.outputText+wt.save+this.outputError+wt.restore+wt.move(this.cursorOffset,0)))}};Zi.exports=he});var ir=a((Fa,er)=>{"use strict";var W=y(),rh=J(),xt=j(),Qi=xt.style,tr=xt.clear,jt=xt.figures,sh=xt.wrap,nh=xt.entriesToDisplay,oh=x(),hh=oh.cursor,le=class extends rh{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map((e,r)=>(typeof e=="string"&&(e={title:e,value:r}),{title:e&&(e.title||e.value||e),value:e&&(e.value===void 0?r:e.value),description:e&&e.description,selected:e&&e.selected,disabled:e&&e.disabled})),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=tr("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(t===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(hh.hide):this.out.write(tr(this.outputText,this.out.columns)),super.render();let t=nh(this.cursor,this.choices.length,this.optionsPerPage),e=t.startIndex,r=t.endIndex;if(this.outputText=[Qi.symbol(this.done,this.aborted),W.bold(this.msg),Qi.delimiter(!1),this.done?this.selection.title:this.selection.disabled?W.yellow(this.warn):W.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let s=e;s<r;s++){let n,o,h="",l=this.choices[s];s===e&&e>0?o=jt.arrowUp:s===r-1&&r<this.choices.length?o=jt.arrowDown:o=" ",l.disabled?(n=this.cursor===s?W.gray().underline(l.title):W.strikethrough().gray(l.title),o=(this.cursor===s?W.bold().gray(jt.pointer)+" ":"  ")+o):(n=this.cursor===s?W.cyan().underline(l.title):l.title,o=(this.cursor===s?W.cyan(jt.pointer)+" ":"  ")+o,l.description&&this.cursor===s&&(h=` - ${l.description}`,(o.length+n.length+h.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(h=`
`+sh(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${n}${W.gray(h)}
`}}this.out.write(this.outputText)}};er.exports=le});var lr=a((La,hr)=>{"use strict";var At=y(),lh=J(),nr=j(),rr=nr.style,uh=nr.clear,or=x(),sr=or.cursor,ah=or.erase,ue=class extends lh{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(t===" ")this.value=!this.value;else if(t==="1")this.value=!0;else if(t==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(sr.hide):this.out.write(uh(this.outputText,this.out.columns)),super.render(),this.outputText=[rr.symbol(this.done,this.aborted),At.bold(this.msg),rr.delimiter(this.done),this.value?this.inactive:At.cyan().underline(this.inactive),At.gray("/"),this.value?At.cyan().underline(this.active):this.active].join(" "),this.out.write(ah.line+sr.to(0)+this.outputText))}};hr.exports=ue});var F=a((Na,ur)=>{"use strict";var ae=class i{constructor({token:t,date:e,parts:r,locales:s}){this.token=t,this.date=e||new Date,this.parts=r||[this],this.locales=s||{}}up(){}down(){}next(){let t=this.parts.indexOf(this);return this.parts.find((e,r)=>r>t&&e instanceof i)}setTo(t){}prev(){let t=[].concat(this.parts).reverse(),e=t.indexOf(this);return t.find((r,s)=>s>e&&r instanceof i)}toString(){return String(this.date)}};ur.exports=ae});var cr=a((Ya,ar)=>{"use strict";var ch=F(),ce=class extends ch{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}};ar.exports=ce});var fr=a((ka,dr)=>{"use strict";var dh=F(),fh=i=>(i=i%10,i===1?"st":i===2?"nd":i===3?"rd":"th"),de=class extends dh{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return this.token==="DD"?String(t).padStart(2,"0"):this.token==="Do"?t+fh(t):this.token==="d"?e+1:this.token==="ddd"?this.locales.weekdaysShort[e]:this.token==="dddd"?this.locales.weekdays[e]:t}};dr.exports=de});var mr=a((Ba,pr)=>{"use strict";var ph=F(),fe=class extends ph{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}};pr.exports=fe});var br=a((Ha,gr)=>{"use strict";var mh=F(),pe=class extends mh{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};gr.exports=pe});var yr=a((Va,vr)=>{"use strict";var gh=F(),me=class extends gh{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}};vr.exports=me});var xr=a((Ga,wr)=>{"use strict";var bh=F(),ge=class extends bh{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return e===2?String(t+1).padStart(2,"0"):e===3?this.locales.monthsShort[t]:e===4?this.locales.months[t]:String(t+1)}};wr.exports=ge});var Or=a((Ua,Sr)=>{"use strict";var vh=F(),be=class extends vh{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}};Sr.exports=be});var qr=a((Ja,$r)=>{"use strict";var yh=F(),ve=class extends yh{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}};$r.exports=ve});var Mr=a((Wa,Tr)=>{"use strict";Tr.exports={DatePart:F(),Meridiem:cr(),Day:fr(),Hours:mr(),Milliseconds:br(),Minutes:yr(),Month:xr(),Seconds:Or(),Year:qr()}});var Fr=a((za,Rr)=>{"use strict";function Pr(i,t,e,r,s,n,o){try{var h=i[n](o),l=h.value}catch(u){e(u);return}h.done?t(l):Promise.resolve(l).then(r,s)}function _r(i){return function(){var t=this,e=arguments;return new Promise(function(r,s){var n=i.apply(t,e);function o(l){Pr(n,r,s,o,h,"next",l)}function h(l){Pr(n,r,s,o,h,"throw",l)}o(void 0)})}}var ye=y(),wh=J(),xe=j(),Cr=xe.style,Dr=xe.clear,xh=xe.figures,Ar=x(),Sh=Ar.erase,Ir=Ar.cursor,z=Mr(),Er=z.DatePart,Oh=z.Meridiem,$h=z.Day,qh=z.Hours,Th=z.Milliseconds,Mh=z.Minutes,Ph=z.Month,_h=z.Seconds,Ch=z.Year,Dh=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,jr={1:({token:i})=>i.replace(/\\(.)/g,"$1"),2:i=>new $h(i),3:i=>new Ph(i),4:i=>new Ch(i),5:i=>new Oh(i),6:i=>new qh(i),7:i=>new Mh(i),8:i=>new _h(i),9:i=>new Th(i)},Ih={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},we=class extends wh{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(Ih,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=Dr("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=Dh.exec(t);){let s=e.shift(),n=e.findIndex(o=>o!=null);this.parts.push(n in jr?jr[n]({token:e[n]||s,date:this.date,parts:this.parts,locales:this.locales}):e[n]||s)}let r=this.parts.reduce((s,n)=>(typeof n=="string"&&typeof s[s.length-1]=="string"?s[s.length-1]+=n:s.push(n),s),[]);this.parts.splice(0),this.parts.push(...r),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex(t=>t instanceof Er)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var t=this;return _r(function*(){let e=yield t.validator(t.value);typeof e=="string"&&(t.errorMsg=e,e=!1),t.error=!e})()}submit(){var t=this;return _r(function*(){if(yield t.validate(),t.error){t.color="red",t.fire(),t.render();return}t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write(`
`),t.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex(e=>e instanceof Er)),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(Ir.hide):this.out.write(Dr(this.outputText,this.out.columns)),super.render(),this.outputText=[Cr.symbol(this.done,this.aborted),ye.bold(this.msg),Cr.delimiter(!1),this.parts.reduce((t,e,r)=>t.concat(r===this.cursor&&!this.done?ye.cyan().underline(e.toString()):e),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((t,e,r)=>t+`
${r?" ":xh.pointerSmall} ${ye.red().italic(e)}`,"")),this.out.write(Sh.line+Ir.to(0)+this.outputText))}};Rr.exports=we});var Vr=a((Ka,Hr)=>{"use strict";function Lr(i,t,e,r,s,n,o){try{var h=i[n](o),l=h.value}catch(u){e(u);return}h.done?t(l):Promise.resolve(l).then(r,s)}function Nr(i){return function(){var t=this,e=arguments;return new Promise(function(r,s){var n=i.apply(t,e);function o(l){Lr(n,r,s,o,h,"next",l)}function h(l){Lr(n,r,s,o,h,"throw",l)}o(void 0)})}}var Rt=y(),Eh=J(),Br=x(),Ft=Br.cursor,jh=Br.erase,Lt=j(),Se=Lt.style,Ah=Lt.figures,Yr=Lt.clear,Rh=Lt.lines,Fh=/[0-9]/,Oe=i=>i!==void 0,kr=(i,t)=>{let e=Math.pow(10,t);return Math.round(i*e)/e},$e=class extends Eh{constructor(t={}){super(t),this.transform=Se.render(t.style),this.msg=t.message,this.initial=Oe(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=Oe(t.min)?t.min:-1/0,this.max=Oe(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){!t&&t!==0?(this.placeholder=!0,this.rendered=Rt.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${kr(t,this.round)}`),this._value=kr(t,this.round)),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return t==="-"||t==="."&&this.float||Fh.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=t!==""?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var t=this;return Nr(function*(){let e=yield t.validator(t.value);typeof e=="string"&&(t.errorMsg=e,e=!1),t.error=!e})()}submit(){var t=this;return Nr(function*(){if(yield t.validate(),t.error){t.color="red",t.fire(),t.render();return}let e=t.value;t.value=e!==""?e:t.initial,t.done=!0,t.aborted=!1,t.error=!1,t.fire(),t.render(),t.out.write(`
`),t.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(t.length===0)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();let r=Date.now();if(r-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=r,this.color="cyan",t===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Ft.down(Rh(this.outputError,this.out.columns)-1)+Yr(this.outputError,this.out.columns)),this.out.write(Yr(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Se.symbol(this.done,this.aborted),Rt.bold(this.msg),Se.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Rt[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((t,e,r)=>t+`
${r?" ":Ah.pointerSmall} ${Rt.red().italic(e)}`,"")),this.out.write(jh.line+Ft.to(0)+this.outputText+Ft.save+this.outputError+Ft.restore))}};Hr.exports=$e});var Te=a((Za,Jr)=>{"use strict";var L=y(),Lh=x(),Nh=Lh.cursor,Yh=J(),St=j(),Gr=St.clear,tt=St.figures,Ur=St.style,kh=St.wrap,Bh=St.entriesToDisplay,qe=class extends Yh{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map((e,r)=>(typeof e=="string"&&(e={title:e,value:r}),{title:e&&(e.title||e.value||e),description:e&&e.description,value:e&&(e.value===void 0?r:e.value),selected:e&&e.selected,disabled:e&&e.disabled})),this.clear=Gr("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map(t=>!t.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(t=>t.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let t=this.value.filter(e=>e.selected);this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let t=!this.value[this.cursor].selected;this.value.filter(e=>!e.disabled).forEach(e=>e.selected=t),this.render()}_(t,e){if(t===" ")this.handleSpaceToggle();else if(t==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${tt.arrowUp}/${tt.arrowDown}: Highlight option
    ${tt.arrowLeft}/${tt.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(t,e,r,s){let n=(e.selected?L.green(tt.radioOn):tt.radioOff)+" "+s+" ",o,h;return e.disabled?o=t===r?L.gray().underline(e.title):L.strikethrough().gray(e.title):(o=t===r?L.cyan().underline(e.title):e.title,t===r&&e.description&&(h=` - ${e.description}`,(n.length+o.length+h.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(h=`
`+kh(e.description,{margin:n.length,width:this.out.columns})))),n+o+L.gray(h||"")}paginateOptions(t){if(t.length===0)return L.red("No matches for this query.");let e=Bh(this.cursor,t.length,this.optionsPerPage),r=e.startIndex,s=e.endIndex,n,o=[];for(let h=r;h<s;h++)h===r&&r>0?n=tt.arrowUp:h===s-1&&s<t.length?n=tt.arrowDown:n=" ",o.push(this.renderOption(this.cursor,t[h],h,n));return`
`+o.join(`
`)}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter(e=>e.selected).map(e=>e.title).join(", ");let t=[L.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&t.push(L.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Nh.hide),super.render();let t=[Ur.symbol(this.done,this.aborted),L.bold(this.msg),Ur.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=L.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.value),this.out.write(this.clear+t),this.clear=Gr(t,this.out.columns)}};Jr.exports=qe});var ts=a((Xa,Qr)=>{"use strict";function Wr(i,t,e,r,s,n,o){try{var h=i[n](o),l=h.value}catch(u){e(u);return}h.done?t(l):Promise.resolve(l).then(r,s)}function Hh(i){return function(){var t=this,e=arguments;return new Promise(function(r,s){var n=i.apply(t,e);function o(l){Wr(n,r,s,o,h,"next",l)}function h(l){Wr(n,r,s,o,h,"throw",l)}o(void 0)})}}var Ot=y(),Vh=J(),Xr=x(),Gh=Xr.erase,zr=Xr.cursor,$t=j(),Me=$t.style,Kr=$t.clear,Pe=$t.figures,Uh=$t.wrap,Jh=$t.entriesToDisplay,Zr=(i,t)=>i[t]&&(i[t].value||i[t].title||i[t]),Wh=(i,t)=>i[t]&&(i[t].title||i[t].value||i[t]),zh=(i,t)=>{let e=i.findIndex(r=>r.value===t||r.title===t);return e>-1?e:void 0},_e=class extends Vh{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial=typeof t.initial=="number"?t.initial:zh(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=Me.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Kr("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return typeof this._fb=="number"?t=this.choices[this._fb]:typeof this._fb=="string"&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=Zr(this.suggestions,t):this.value=this.fallback.value,this.fire()}complete(t){var e=this;return Hh(function*(){let r=e.completing=e.suggest(e.input,e.choices),s=yield r;if(e.completing!==r)return;e.suggestions=s.map((o,h,l)=>({title:Wh(l,h),value:Zr(l,h),description:o.description})),e.completing=!1;let n=Math.max(s.length-1,0);e.moveSelect(Math.min(n,e.select)),t&&t()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(t,e){let r=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor);this.input=`${r}${t}${s}`,this.cursor=r.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,e,r,s){let n,o=r?Pe.arrowUp:s?Pe.arrowDown:" ",h=e?Ot.cyan().underline(t.title):t.title;return o=(e?Ot.cyan(Pe.pointer)+" ":"  ")+o,t.description&&(n=` - ${t.description}`,(o.length+h.length+n.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(n=`
`+Uh(t.description,{margin:3,width:this.out.columns}))),o+" "+h+Ot.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(zr.hide):this.out.write(Kr(this.outputText,this.out.columns)),super.render();let t=Jh(this.select,this.choices.length,this.limit),e=t.startIndex,r=t.endIndex;if(this.outputText=[Me.symbol(this.done,this.aborted,this.exited),Ot.bold(this.msg),Me.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let s=this.suggestions.slice(e,r).map((n,o)=>this.renderOption(n,this.select===o+e,o===0&&e>0,o+e===r-1&&r<this.choices.length)).join(`
`);this.outputText+=`
`+(s||Ot.gray(this.fallback.title))}this.out.write(Gh.line+zr.to(0)+this.outputText)}};Qr.exports=_e});var ss=a((Qa,rs)=>{"use strict";var K=y(),Kh=x(),Zh=Kh.cursor,Xh=Te(),De=j(),es=De.clear,is=De.style,ct=De.figures,Ce=class extends Xh{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=es("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(r=>this.inputValue?!!(typeof r.title=="string"&&r.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof r.value=="string"&&r.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let e=this.filteredOptions.findIndex(r=>r===t);this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){let t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){t===" "?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${ct.arrowUp}/${ct.arrowDown}: Highlight option
    ${ct.arrowLeft}/${ct.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:K.gray("Enter something to filter")}
`}renderOption(t,e,r){let s;return e.disabled?s=t===r?K.gray().underline(e.title):K.strikethrough().gray(e.title):s=t===r?K.cyan().underline(e.title):e.title,(e.selected?K.green(ct.radioOn):ct.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter(e=>e.selected).map(e=>e.title).join(", ");let t=[K.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&t.push(K.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Zh.hide),super.render();let t=[is.symbol(this.done,this.aborted),K.bold(this.msg),is.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=K.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+t),this.clear=es(t,this.out.columns)}};rs.exports=Ce});var cs=a((tc,as)=>{"use strict";var ns=y(),Qh=J(),ls=j(),os=ls.style,tl=ls.clear,us=x(),el=us.erase,hs=us.cursor,Ie=class extends Qh{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(t,e){return t.toLowerCase()==="y"?(this.value=!0,this.submit()):t.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(hs.hide):this.out.write(tl(this.outputText,this.out.columns)),super.render(),this.outputText=[os.symbol(this.done,this.aborted),ns.bold(this.msg),os.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:ns.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(el.line+hs.to(0)+this.outputText))}};as.exports=Ie});var fs=a((ec,ds)=>{"use strict";ds.exports={TextPrompt:Xi(),SelectPrompt:ir(),TogglePrompt:lr(),DatePrompt:Fr(),NumberPrompt:Vr(),MultiselectPrompt:Te(),AutocompletePrompt:ts(),AutocompleteMultiselectPrompt:ss(),ConfirmPrompt:cs()}});var ms=a(ps=>{"use strict";var _=ps,il=fs(),Nt=i=>i;function N(i,t,e={}){return new Promise((r,s)=>{let n=new il[i](t),o=e.onAbort||Nt,h=e.onSubmit||Nt,l=e.onExit||Nt;n.on("state",t.onState||Nt),n.on("submit",u=>r(h(u))),n.on("exit",u=>r(l(u))),n.on("abort",u=>s(o(u)))})}_.text=i=>N("TextPrompt",i);_.password=i=>(i.style="password",_.text(i));_.invisible=i=>(i.style="invisible",_.text(i));_.number=i=>N("NumberPrompt",i);_.date=i=>N("DatePrompt",i);_.confirm=i=>N("ConfirmPrompt",i);_.list=i=>{let t=i.separator||",";return N("TextPrompt",i,{onSubmit:e=>e.split(t).map(r=>r.trim())})};_.toggle=i=>N("TogglePrompt",i);_.select=i=>N("SelectPrompt",i);_.multiselect=i=>{i.choices=[].concat(i.choices||[]);let t=e=>e.filter(r=>r.selected).map(r=>r.value);return N("MultiselectPrompt",i,{onAbort:t,onSubmit:t})};_.autocompleteMultiselect=i=>{i.choices=[].concat(i.choices||[]);let t=e=>e.filter(r=>r.selected).map(r=>r.value);return N("AutocompleteMultiselectPrompt",i,{onAbort:t,onSubmit:t})};var rl=(i,t)=>Promise.resolve(t.filter(e=>e.title.slice(0,i.length).toLowerCase()===i.toLowerCase()));_.autocomplete=i=>(i.suggest=i.suggest||rl,i.choices=[].concat(i.choices||[]),N("AutocompletePrompt",i))});var Os=a((rc,Ss)=>{"use strict";function gs(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),e.push.apply(e,r)}return e}function bs(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?gs(Object(e),!0).forEach(function(r){sl(i,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):gs(Object(e)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(e,r))})}return i}function sl(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function nl(i,t){var e=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!e){if(Array.isArray(i)||(e=ol(i))||t&&i&&typeof i.length=="number"){e&&(i=e);var r=0,s=function(){};return{s,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,o=!1,h;return{s:function(){e=e.call(i)},n:function(){var u=e.next();return n=u.done,u},e:function(u){o=!0,h=u},f:function(){try{!n&&e.return!=null&&e.return()}finally{if(o)throw h}}}}function ol(i,t){if(i){if(typeof i=="string")return vs(i,t);var e=Object.prototype.toString.call(i).slice(8,-1);if(e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set")return Array.from(i);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return vs(i,t)}}function vs(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=i[e];return r}function ys(i,t,e,r,s,n,o){try{var h=i[n](o),l=h.value}catch(u){e(u);return}h.done?t(l):Promise.resolve(l).then(r,s)}function ws(i){return function(){var t=this,e=arguments;return new Promise(function(r,s){var n=i.apply(t,e);function o(l){ys(n,r,s,o,h,"next",l)}function h(l){ys(n,r,s,o,h,"throw",l)}o(void 0)})}}var Ee=ms(),hl=["suggest","format","onState","validate","onRender","type"],xs=()=>{};function et(){return je.apply(this,arguments)}function je(){return je=ws(function*(i=[],{onSubmit:t=xs,onCancel:e=xs}={}){let r={},s=et._override||{};i=[].concat(i);let n,o,h,l,u,T,b=function(){var I=ws(function*(S,V,M=!1){if(!(!M&&S.validate&&S.validate(V)!==!0))return S.format?yield S.format(V,r):V});return function(V,M){return I.apply(this,arguments)}}();var c=nl(i),p;try{for(c.s();!(p=c.n()).done;){o=p.value;var q=o;if(l=q.name,u=q.type,typeof u=="function"&&(u=yield u(n,bs({},r),o),o.type=u),!!u){for(let I in o){if(hl.includes(I))continue;let S=o[I];o[I]=typeof S=="function"?yield S(n,bs({},r),T):S}if(T=o,typeof o.message!="string")throw new Error("prompt message is required");var mt=o;if(l=mt.name,u=mt.type,Ee[u]===void 0)throw new Error(`prompt type (${u}) is not defined`);if(s[o.name]!==void 0&&(n=yield b(o,s[o.name]),n!==void 0)){r[l]=n;continue}try{n=et._injected?ll(et._injected,o.initial):yield Ee[u](o),r[l]=n=yield b(o,n,!0),h=yield t(o,n,r)}catch{h=!(yield e(o,r))}if(h)return r}}}catch(I){c.e(I)}finally{c.f()}return r}),je.apply(this,arguments)}function ll(i,t){let e=i.shift();if(e instanceof Error)throw e;return e===void 0?t:e}function ul(i){et._injected=(et._injected||[]).concat(i)}function al(i){et._override=Object.assign({},i)}Ss.exports=Object.assign(et,{prompt:et,prompts:Ee,inject:ul,override:al})});var qs=a((sc,$s)=>{"use strict";$s.exports=(i,t)=>{if(!(i.meta&&i.name!=="escape")){if(i.ctrl){if(i.name==="a")return"first";if(i.name==="c"||i.name==="d")return"abort";if(i.name==="e")return"last";if(i.name==="g")return"reset"}if(t){if(i.name==="j")return"down";if(i.name==="k")return"up"}return i.name==="return"||i.name==="enter"?"submit":i.name==="backspace"?"delete":i.name==="delete"?"deleteForward":i.name==="abort"?"abort":i.name==="escape"?"exit":i.name==="tab"?"next":i.name==="pagedown"?"nextPage":i.name==="pageup"?"prevPage":i.name==="home"?"home":i.name==="end"?"end":i.name==="up"?"up":i.name==="down"?"down":i.name==="right"?"right":i.name==="left"?"left":!1}}});var Yt=a((nc,Ts)=>{"use strict";Ts.exports=i=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),e=new RegExp(t,"g");return typeof i=="string"?i.replace(e,""):i}});var _s=a((oc,Ps)=>{"use strict";var cl=Yt(),{erase:Ms,cursor:dl}=x(),fl=i=>[...cl(i)].length;Ps.exports=function(i,t){if(!t)return Ms.line+dl.to(0);let e=0,r=i.split(/\r?\n/);for(let s of r)e+=1+Math.floor(Math.max(fl(s)-1,0)/t);return Ms.lines(e)}});var ot=a((hc,Cs)=>{"use strict";var qt={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},pl={arrowUp:qt.arrowUp,arrowDown:qt.arrowDown,arrowLeft:qt.arrowLeft,arrowRight:qt.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},ml=process.platform==="win32"?pl:qt;Cs.exports=ml});var Is=a((lc,Ds)=>{"use strict";var dt=y(),ht=ot(),Ae=Object.freeze({password:{scale:1,render:i=>"*".repeat(i.length)},emoji:{scale:2,render:i=>"\u{1F603}".repeat(i.length)},invisible:{scale:0,render:i=>""},default:{scale:1,render:i=>`${i}`}}),gl=i=>Ae[i]||Ae.default,Tt=Object.freeze({aborted:dt.red(ht.cross),done:dt.green(ht.tick),exited:dt.yellow(ht.cross),default:dt.cyan("?")}),bl=(i,t,e)=>t?Tt.aborted:e?Tt.exited:i?Tt.done:Tt.default,vl=i=>dt.gray(i?ht.ellipsis:ht.pointerSmall),yl=(i,t)=>dt.gray(i?t?ht.pointerSmall:"+":ht.line);Ds.exports={styles:Ae,render:gl,symbols:Tt,symbol:bl,delimiter:vl,item:yl}});var js=a((uc,Es)=>{"use strict";var wl=Yt();Es.exports=function(i,t){let e=String(wl(i)||"").split(/\r?\n/);return t?e.map(r=>Math.ceil(r.length/t)).reduce((r,s)=>r+s):e.length}});var Rs=a((ac,As)=>{"use strict";As.exports=(i,t={})=>{let e=Number.isSafeInteger(parseInt(t.margin))?new Array(parseInt(t.margin)).fill(" ").join(""):t.margin||"",r=t.width;return(i||"").split(/\r?\n/g).map(s=>s.split(/\s+/g).reduce((n,o)=>(o.length+e.length>=r||n[n.length-1].length+o.length+1<r?n[n.length-1]+=` ${o}`:n.push(`${e}${o}`),n),[e]).join(`
`)).join(`
`)}});var Ls=a((cc,Fs)=>{"use strict";Fs.exports=(i,t,e)=>{e=e||t;let r=Math.min(t-e,i-Math.floor(e/2));r<0&&(r=0);let s=Math.min(r+e,t);return{startIndex:r,endIndex:s}}});var A=a((dc,Ns)=>{"use strict";Ns.exports={action:qs(),clear:_s(),style:Is(),strip:Yt(),figures:ot(),lines:js(),wrap:Rs(),entriesToDisplay:Ls()}});var Z=a((fc,ks)=>{"use strict";var Ys=require("readline"),{action:xl}=A(),Sl=require("events"),{beep:Ol,cursor:$l}=x(),ql=y(),Re=class extends Sl{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);let e=Ys.createInterface({input:this.in,escapeCodeTimeout:50});Ys.emitKeypressEvents(this.in,e),this.in.isTTY&&this.in.setRawMode(!0);let r=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,s=(n,o)=>{let h=xl(o,r);h===!1?this._&&this._(n,o):typeof this[h]=="function"?this[h](o):this.bell()};this.close=()=>{this.out.write($l.show),this.in.removeListener("keypress",s),this.in.isTTY&&this.in.setRawMode(!1),e.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",s)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Ol)}render(){this.onRender(ql),this.firstRender&&(this.firstRender=!1)}};ks.exports=Re});var Hs=a((pc,Bs)=>{var kt=y(),Tl=Z(),{erase:Ml,cursor:Mt}=x(),{style:Fe,clear:Le,lines:Pl,figures:_l}=A(),Ne=class extends Tl{constructor(t={}){super(t),this.transform=Fe.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=Le("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=kt.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let t=await this.validator(this.value);typeof t=="string"&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let r=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${r}${t}${s}`,this.red=!1,this.cursor=this.placeholder?0:r.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Mt.down(Pl(this.outputError,this.out.columns)-1)+Le(this.outputError,this.out.columns)),this.out.write(Le(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Fe.symbol(this.done,this.aborted),kt.bold(this.msg),Fe.delimiter(this.done),this.red?kt.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((t,e,r)=>t+`
${r?" ":_l.pointerSmall} ${kt.red().italic(e)}`,"")),this.out.write(Ml.line+Mt.to(0)+this.outputText+Mt.save+this.outputError+Mt.restore+Mt.move(this.cursorOffset,0)))}};Bs.exports=Ne});var Js=a((mc,Us)=>{"use strict";var X=y(),Cl=Z(),{style:Vs,clear:Gs,figures:Bt,wrap:Dl,entriesToDisplay:Il}=A(),{cursor:El}=x(),Ye=class extends Cl{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map((e,r)=>(typeof e=="string"&&(e={title:e,value:r}),{title:e&&(e.title||e.value||e),value:e&&(e.value===void 0?r:e.value),description:e&&e.description,selected:e&&e.selected,disabled:e&&e.disabled})),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=Gs("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(t===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(El.hide):this.out.write(Gs(this.outputText,this.out.columns)),super.render();let{startIndex:t,endIndex:e}=Il(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[Vs.symbol(this.done,this.aborted),X.bold(this.msg),Vs.delimiter(!1),this.done?this.selection.title:this.selection.disabled?X.yellow(this.warn):X.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let r=t;r<e;r++){let s,n,o="",h=this.choices[r];r===t&&t>0?n=Bt.arrowUp:r===e-1&&e<this.choices.length?n=Bt.arrowDown:n=" ",h.disabled?(s=this.cursor===r?X.gray().underline(h.title):X.strikethrough().gray(h.title),n=(this.cursor===r?X.bold().gray(Bt.pointer)+" ":"  ")+n):(s=this.cursor===r?X.cyan().underline(h.title):h.title,n=(this.cursor===r?X.cyan(Bt.pointer)+" ":"  ")+n,h.description&&this.cursor===r&&(o=` - ${h.description}`,(n.length+s.length+o.length>=this.out.columns||h.description.split(/\r?\n/).length>1)&&(o=`
`+Dl(h.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${s}${X.gray(o)}
`}}this.out.write(this.outputText)}};Us.exports=Ye});var Zs=a((gc,Ks)=>{var Ht=y(),jl=Z(),{style:Ws,clear:Al}=A(),{cursor:zs,erase:Rl}=x(),ke=class extends jl{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(t===" ")this.value=!this.value;else if(t==="1")this.value=!0;else if(t==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(zs.hide):this.out.write(Al(this.outputText,this.out.columns)),super.render(),this.outputText=[Ws.symbol(this.done,this.aborted),Ht.bold(this.msg),Ws.delimiter(this.done),this.value?this.inactive:Ht.cyan().underline(this.inactive),Ht.gray("/"),this.value?Ht.cyan().underline(this.active):this.active].join(" "),this.out.write(Rl.line+zs.to(0)+this.outputText))}};Ks.exports=ke});var Y=a((bc,Xs)=>{"use strict";var Be=class i{constructor({token:t,date:e,parts:r,locales:s}){this.token=t,this.date=e||new Date,this.parts=r||[this],this.locales=s||{}}up(){}down(){}next(){let t=this.parts.indexOf(this);return this.parts.find((e,r)=>r>t&&e instanceof i)}setTo(t){}prev(){let t=[].concat(this.parts).reverse(),e=t.indexOf(this);return t.find((r,s)=>s>e&&r instanceof i)}toString(){return String(this.date)}};Xs.exports=Be});var tn=a((vc,Qs)=>{"use strict";var Fl=Y(),He=class extends Fl{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}};Qs.exports=He});var rn=a((yc,en)=>{"use strict";var Ll=Y(),Nl=i=>(i=i%10,i===1?"st":i===2?"nd":i===3?"rd":"th"),Ve=class extends Ll{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return this.token==="DD"?String(t).padStart(2,"0"):this.token==="Do"?t+Nl(t):this.token==="d"?e+1:this.token==="ddd"?this.locales.weekdaysShort[e]:this.token==="dddd"?this.locales.weekdays[e]:t}};en.exports=Ve});var nn=a((wc,sn)=>{"use strict";var Yl=Y(),Ge=class extends Yl{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}};sn.exports=Ge});var hn=a((xc,on)=>{"use strict";var kl=Y(),Ue=class extends kl{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};on.exports=Ue});var un=a((Sc,ln)=>{"use strict";var Bl=Y(),Je=class extends Bl{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}};ln.exports=Je});var cn=a((Oc,an)=>{"use strict";var Hl=Y(),We=class extends Hl{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return e===2?String(t+1).padStart(2,"0"):e===3?this.locales.monthsShort[t]:e===4?this.locales.months[t]:String(t+1)}};an.exports=We});var fn=a(($c,dn)=>{"use strict";var Vl=Y(),ze=class extends Vl{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}};dn.exports=ze});var mn=a((qc,pn)=>{"use strict";var Gl=Y(),Ke=class extends Gl{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}};pn.exports=Ke});var bn=a((Tc,gn)=>{"use strict";gn.exports={DatePart:Y(),Meridiem:tn(),Day:rn(),Hours:nn(),Milliseconds:hn(),Minutes:un(),Month:cn(),Seconds:fn(),Year:mn()}});var $n=a((Mc,On)=>{"use strict";var Ze=y(),Ul=Z(),{style:vn,clear:yn,figures:Jl}=A(),{erase:Wl,cursor:wn}=x(),{DatePart:xn,Meridiem:zl,Day:Kl,Hours:Zl,Milliseconds:Xl,Minutes:Ql,Month:tu,Seconds:eu,Year:iu}=bn(),ru=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Sn={1:({token:i})=>i.replace(/\\(.)/g,"$1"),2:i=>new Kl(i),3:i=>new tu(i),4:i=>new iu(i),5:i=>new zl(i),6:i=>new Zl(i),7:i=>new Ql(i),8:i=>new eu(i),9:i=>new Xl(i)},su={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},Xe=class extends Ul{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(su,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=yn("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=ru.exec(t);){let s=e.shift(),n=e.findIndex(o=>o!=null);this.parts.push(n in Sn?Sn[n]({token:e[n]||s,date:this.date,parts:this.parts,locales:this.locales}):e[n]||s)}let r=this.parts.reduce((s,n)=>(typeof n=="string"&&typeof s[s.length-1]=="string"?s[s.length-1]+=n:s.push(n),s),[]);this.parts.splice(0),this.parts.push(...r),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex(t=>t instanceof xn)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let t=await this.validator(this.value);typeof t=="string"&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex(e=>e instanceof xn)),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(wn.hide):this.out.write(yn(this.outputText,this.out.columns)),super.render(),this.outputText=[vn.symbol(this.done,this.aborted),Ze.bold(this.msg),vn.delimiter(!1),this.parts.reduce((t,e,r)=>t.concat(r===this.cursor&&!this.done?Ze.cyan().underline(e.toString()):e),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((t,e,r)=>t+`
${r?" ":Jl.pointerSmall} ${Ze.red().italic(e)}`,"")),this.out.write(Wl.line+wn.to(0)+this.outputText))}};On.exports=Xe});var Pn=a((Pc,Mn)=>{var Vt=y(),nu=Z(),{cursor:Gt,erase:ou}=x(),{style:Qe,figures:hu,clear:qn,lines:lu}=A(),uu=/[0-9]/,ti=i=>i!==void 0,Tn=(i,t)=>{let e=Math.pow(10,t);return Math.round(i*e)/e},ei=class extends nu{constructor(t={}){super(t),this.transform=Qe.render(t.style),this.msg=t.message,this.initial=ti(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=ti(t.min)?t.min:-1/0,this.max=ti(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){!t&&t!==0?(this.placeholder=!0,this.rendered=Vt.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Tn(t,this.round)}`),this._value=Tn(t,this.round)),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return t==="-"||t==="."&&this.float||uu.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=t!==""?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let t=await this.validator(this.value);typeof t=="string"&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let t=this.value;this.value=t!==""?t:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(t.length===0)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();let r=Date.now();if(r-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=r,this.color="cyan",t===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Gt.down(lu(this.outputError,this.out.columns)-1)+qn(this.outputError,this.out.columns)),this.out.write(qn(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Qe.symbol(this.done,this.aborted),Vt.bold(this.msg),Qe.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Vt[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((t,e,r)=>t+`
${r?" ":hu.pointerSmall} ${Vt.red().italic(e)}`,"")),this.out.write(ou.line+Gt.to(0)+this.outputText+Gt.save+this.outputError+Gt.restore))}};Mn.exports=ei});var ri=a((_c,Dn)=>{"use strict";var k=y(),{cursor:au}=x(),cu=Z(),{clear:_n,figures:it,style:Cn,wrap:du,entriesToDisplay:fu}=A(),ii=class extends cu{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map((e,r)=>(typeof e=="string"&&(e={title:e,value:r}),{title:e&&(e.title||e.value||e),description:e&&e.description,value:e&&(e.value===void 0?r:e.value),selected:e&&e.selected,disabled:e&&e.disabled})),this.clear=_n("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map(t=>!t.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(t=>t.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let t=this.value.filter(e=>e.selected);this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let t=!this.value[this.cursor].selected;this.value.filter(e=>!e.disabled).forEach(e=>e.selected=t),this.render()}_(t,e){if(t===" ")this.handleSpaceToggle();else if(t==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${it.arrowUp}/${it.arrowDown}: Highlight option
    ${it.arrowLeft}/${it.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(t,e,r,s){let n=(e.selected?k.green(it.radioOn):it.radioOff)+" "+s+" ",o,h;return e.disabled?o=t===r?k.gray().underline(e.title):k.strikethrough().gray(e.title):(o=t===r?k.cyan().underline(e.title):e.title,t===r&&e.description&&(h=` - ${e.description}`,(n.length+o.length+h.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(h=`
`+du(e.description,{margin:n.length,width:this.out.columns})))),n+o+k.gray(h||"")}paginateOptions(t){if(t.length===0)return k.red("No matches for this query.");let{startIndex:e,endIndex:r}=fu(this.cursor,t.length,this.optionsPerPage),s,n=[];for(let o=e;o<r;o++)o===e&&e>0?s=it.arrowUp:o===r-1&&r<t.length?s=it.arrowDown:s=" ",n.push(this.renderOption(this.cursor,t[o],o,s));return`
`+n.join(`
`)}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter(e=>e.selected).map(e=>e.title).join(", ");let t=[k.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&t.push(k.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(au.hide),super.render();let t=[Cn.symbol(this.done,this.aborted),k.bold(this.msg),Cn.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=k.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.value),this.out.write(this.clear+t),this.clear=_n(t,this.out.columns)}};Dn.exports=ii});var Rn=a((Cc,An)=>{"use strict";var Pt=y(),pu=Z(),{erase:mu,cursor:In}=x(),{style:si,clear:En,figures:ni,wrap:gu,entriesToDisplay:bu}=A(),jn=(i,t)=>i[t]&&(i[t].value||i[t].title||i[t]),vu=(i,t)=>i[t]&&(i[t].title||i[t].value||i[t]),yu=(i,t)=>{let e=i.findIndex(r=>r.value===t||r.title===t);return e>-1?e:void 0},oi=class extends pu{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial=typeof t.initial=="number"?t.initial:yu(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=si.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=En("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return typeof this._fb=="number"?t=this.choices[this._fb]:typeof this._fb=="string"&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=jn(this.suggestions,t):this.value=this.fallback.value,this.fire()}async complete(t){let e=this.completing=this.suggest(this.input,this.choices),r=await e;if(this.completing!==e)return;this.suggestions=r.map((n,o,h)=>({title:vu(h,o),value:jn(h,o),description:n.description})),this.completing=!1;let s=Math.max(r.length-1,0);this.moveSelect(Math.min(s,this.select)),t&&t()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(t,e){let r=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor);this.input=`${r}${t}${s}`,this.cursor=r.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,e,r,s){let n,o=r?ni.arrowUp:s?ni.arrowDown:" ",h=e?Pt.cyan().underline(t.title):t.title;return o=(e?Pt.cyan(ni.pointer)+" ":"  ")+o,t.description&&(n=` - ${t.description}`,(o.length+h.length+n.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(n=`
`+gu(t.description,{margin:3,width:this.out.columns}))),o+" "+h+Pt.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(In.hide):this.out.write(En(this.outputText,this.out.columns)),super.render();let{startIndex:t,endIndex:e}=bu(this.select,this.choices.length,this.limit);if(this.outputText=[si.symbol(this.done,this.aborted,this.exited),Pt.bold(this.msg),si.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let r=this.suggestions.slice(t,e).map((s,n)=>this.renderOption(s,this.select===n+t,n===0&&t>0,n+t===e-1&&e<this.choices.length)).join(`
`);this.outputText+=`
`+(r||Pt.gray(this.fallback.title))}this.out.write(mu.line+In.to(0)+this.outputText)}};An.exports=oi});var Yn=a((Dc,Nn)=>{"use strict";var Q=y(),{cursor:wu}=x(),xu=ri(),{clear:Fn,style:Ln,figures:ft}=A(),hi=class extends xu{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=Fn("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(r=>this.inputValue?!!(typeof r.title=="string"&&r.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof r.value=="string"&&r.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let e=this.filteredOptions.findIndex(r=>r===t);this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){let t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){t===" "?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${ft.arrowUp}/${ft.arrowDown}: Highlight option
    ${ft.arrowLeft}/${ft.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:Q.gray("Enter something to filter")}
`}renderOption(t,e,r){let s;return e.disabled?s=t===r?Q.gray().underline(e.title):Q.strikethrough().gray(e.title):s=t===r?Q.cyan().underline(e.title):e.title,(e.selected?Q.green(ft.radioOn):ft.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter(e=>e.selected).map(e=>e.title).join(", ");let t=[Q.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&t.push(Q.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(wu.hide),super.render();let t=[Ln.symbol(this.done,this.aborted),Q.bold(this.msg),Ln.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=Q.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+t),this.clear=Fn(t,this.out.columns)}};Nn.exports=hi});var Gn=a((Ic,Vn)=>{var kn=y(),Su=Z(),{style:Bn,clear:Ou}=A(),{erase:$u,cursor:Hn}=x(),li=class extends Su{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(t,e){return t.toLowerCase()==="y"?(this.value=!0,this.submit()):t.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Hn.hide):this.out.write(Ou(this.outputText,this.out.columns)),super.render(),this.outputText=[Bn.symbol(this.done,this.aborted),kn.bold(this.msg),Bn.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:kn.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write($u.line+Hn.to(0)+this.outputText))}};Vn.exports=li});var Jn=a((Ec,Un)=>{"use strict";Un.exports={TextPrompt:Hs(),SelectPrompt:Js(),TogglePrompt:Zs(),DatePrompt:$n(),NumberPrompt:Pn(),MultiselectPrompt:ri(),AutocompletePrompt:Rn(),AutocompleteMultiselectPrompt:Yn(),ConfirmPrompt:Gn()}});var zn=a(Wn=>{"use strict";var C=Wn,qu=Jn(),Ut=i=>i;function B(i,t,e={}){return new Promise((r,s)=>{let n=new qu[i](t),o=e.onAbort||Ut,h=e.onSubmit||Ut,l=e.onExit||Ut;n.on("state",t.onState||Ut),n.on("submit",u=>r(h(u))),n.on("exit",u=>r(l(u))),n.on("abort",u=>s(o(u)))})}C.text=i=>B("TextPrompt",i);C.password=i=>(i.style="password",C.text(i));C.invisible=i=>(i.style="invisible",C.text(i));C.number=i=>B("NumberPrompt",i);C.date=i=>B("DatePrompt",i);C.confirm=i=>B("ConfirmPrompt",i);C.list=i=>{let t=i.separator||",";return B("TextPrompt",i,{onSubmit:e=>e.split(t).map(r=>r.trim())})};C.toggle=i=>B("TogglePrompt",i);C.select=i=>B("SelectPrompt",i);C.multiselect=i=>{i.choices=[].concat(i.choices||[]);let t=e=>e.filter(r=>r.selected).map(r=>r.value);return B("MultiselectPrompt",i,{onAbort:t,onSubmit:t})};C.autocompleteMultiselect=i=>{i.choices=[].concat(i.choices||[]);let t=e=>e.filter(r=>r.selected).map(r=>r.value);return B("AutocompleteMultiselectPrompt",i,{onAbort:t,onSubmit:t})};var Tu=(i,t)=>Promise.resolve(t.filter(e=>e.title.slice(0,i.length).toLowerCase()===i.toLowerCase()));C.autocomplete=i=>(i.suggest=i.suggest||Tu,i.choices=[].concat(i.choices||[]),B("AutocompletePrompt",i))});var Xn=a((Ac,Zn)=>{"use strict";var ui=zn(),Mu=["suggest","format","onState","validate","onRender","type"],Kn=()=>{};async function rt(i=[],{onSubmit:t=Kn,onCancel:e=Kn}={}){let r={},s=rt._override||{};i=[].concat(i);let n,o,h,l,u,T,b=async(c,p,q=!1)=>{if(!(!q&&c.validate&&c.validate(p)!==!0))return c.format?await c.format(p,r):p};for(o of i)if({name:l,type:u}=o,typeof u=="function"&&(u=await u(n,{...r},o),o.type=u),!!u){for(let c in o){if(Mu.includes(c))continue;let p=o[c];o[c]=typeof p=="function"?await p(n,{...r},T):p}if(T=o,typeof o.message!="string")throw new Error("prompt message is required");if({name:l,type:u}=o,ui[u]===void 0)throw new Error(`prompt type (${u}) is not defined`);if(s[o.name]!==void 0&&(n=await b(o,s[o.name]),n!==void 0)){r[l]=n;continue}try{n=rt._injected?Pu(rt._injected,o.initial):await ui[u](o),r[l]=n=await b(o,n,!0),h=await t(o,n,r)}catch{h=!await e(o,r)}if(h)return r}return r}function Pu(i,t){let e=i.shift();if(e instanceof Error)throw e;return e===void 0?t:e}function _u(i){rt._injected=(rt._injected||[]).concat(i)}function Cu(i){rt._override=Object.assign({},i)}Zn.exports=Object.assign(rt,{prompt:rt,prompts:ui,inject:_u,override:Cu})});var ai=a((Rc,Qn)=>{function Du(i){i=(Array.isArray(i)?i:i.split(".")).map(Number);let t=0,e=process.versions.node.split(".").map(Number);for(;t<i.length;t++){if(e[t]>i[t])return!1;if(i[t]>e[t])return!0}return!1}Qn.exports=Du("8.6.0")?Os():Xn()});var H=require("node:fs"),vo=require("node:path"),lt=D(require("node:process"),1);var st=!0,ut=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{},bt=0;if(ut.process&&ut.process.env&&ut.process.stdout){let{FORCE_COLOR:i,NODE_DISABLE_COLORS:t,NO_COLOR:e,TERM:r,COLORTERM:s}=ut.process.env;t||e||i==="0"?st=!1:i==="1"||i==="2"||i==="3"?st=!0:r==="dumb"?st=!1:"CI"in ut.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(n=>n in ut.process.env)?st=!0:st=process.stdout.isTTY,st&&(process.platform==="win32"||s&&(s==="truecolor"||s==="24bit")?bt=3:r&&(r.endsWith("-256color")||r.endsWith("256"))?bt=2:bt=1)}var vi={enabled:st,supportLevel:bt};function d(i,t,e=1){let r=`\x1B[${i}m`,s=`\x1B[${t}m`,n=new RegExp(`\\x1b\\[${t}m`,"g");return o=>vi.enabled&&vi.supportLevel>=e?r+(""+o).replace(n,r)+s:""+o}var Yu=d(0,0),$=d(1,22),ku=d(2,22),Bu=d(3,23),Hu=d(4,24),Vu=d(7,27),Gu=d(8,28),Uu=d(9,29),Ju=d(30,39),P=d(31,39),E=d(32,39),Wu=d(33,39),zu=d(34,39),Ku=d(35,39),Zu=d(36,39),Xu=d(97,39),Qu=d(90,39),ta=d(37,39),ea=d(91,39),ia=d(92,39),ra=d(93,39),sa=d(94,39),na=d(95,39),yi=d(96,39),oa=d(40,49),ha=d(41,49),la=d(42,49),ua=d(43,49),aa=d(44,49),ca=d(45,49),da=d(46,49),fa=d(107,49),pa=d(100,49),ma=d(101,49),ga=d(102,49),ba=d(103,49),va=d(104,49),ya=d(105,49),wa=d(106,49),xa=d(47,49);var yo=D(Oi(),1),wo=D(ai(),1),Qt=D(ot(),1);var mo=D(ai(),1);var go=D(ot(),1);var co=D(ot(),1);var Jt=require("node:fs");function Wt(i){if(!(0,Jt.existsSync)(i))return!0;let t=(0,Jt.readdirSync)(i);return t.length===0||t.length===1&&t[0]===".git"}var eo=require("node:child_process"),io=require("node:fs"),ro=require("node:path"),so=D(require("node:process"),1);var zt=require("node:fs"),to=require("node:path");function Iu(i,t){let e=JSON.parse((0,zt.readFileSync)(i,"utf8"));e.name=t,(0,zt.writeFileSync)(i,JSON.stringify(e,null,2))}function Kt(i,t){let e=t.toLocaleLowerCase().replace(/\s/g,"-"),r=(0,to.join)(i,"package.json");Iu(r,e)}async function Eu(i){let t=(0,ro.join)(i,".git");await io.promises.rm(t,{recursive:!0,force:!0})}async function ju(i,t,e){let r=null;for(let s of i)try{await new Promise((n,o)=>{let h=`git clone -b ${t} ${s} ${e}`;(0,eo.exec)(h,async l=>{if(l){console.error(`${P("exec error:")} ${l}`),o(l);return}try{await Eu(e),n()}catch(u){o(u)}})});return}catch(n){console.error(`${P("cloneRepo error:")} ${n}`),r=n}r&&(console.error(`${P("All URLs failed")}`),Promise.reject(r))}function Au(i){let{github:t,gitee:e}=i;return[e,t].filter(Boolean)}async function no(i,t,e,r){let s=Au(i.url);console.log(`${E("\u83B7\u53D6\u5230\u7684\u4ED3\u5E93url:")} ${s}`);try{await ju(s,i.branch||"base",e)}catch{r.fail(`${$("\u6A21\u677F\u521B\u5EFA\u5931\u8D25\uFF01")}`),so.default.exit(1)}Kt(e,t),i.callBack?.(e)}var ci=D(require("node:process"),1);var oo="1.0.0";function ho(){let i=`create-unibest@v${oo} \u5FEB\u901F\u521B\u5EFA unibest \u9879\u76EE`,t="",e={r:255,g:165,b:0},r={r:255,g:69,b:0};for(let n=0;n<i.length;n++){let o=n/(i.length-1),h=Math.round(e.r+(r.r-e.r)*o),l=Math.round(e.g+(r.g-e.g)*o),u=Math.round(e.b+(r.b-e.b)*o);t+=`\x1B[38;2;${h};${l};${u}m${i[n]}\x1B[0m`}let s=ci.default.stdout.isTTY&&ci.default.stdout.getColorDepth()>8?t:yi(i);console.log(),console.log(s),console.log()}var Zt=D(require("node:process"),1);var di=D(ot(),1),Fu=["\u280B","\u2819","\u2839","\u2838","\u283C","\u2834","\u2826","\u2827","\u2807","\u280F"],fi=class{constructor(t){this.message=t,this.interval=null}setFinishMessage(t){return t+" ".repeat(this.message.length-t.length)}start(){let t=0;return this.interval=setInterval(()=>{Zt.default.stdout.write(`\r${Fu[t%9]} ${this.message}`),t++},100),this}fail(t){this.interval&&(clearInterval(this.interval),Zt.default.stdout.write(`\r${P(di.default.cross)} ${this.setFinishMessage(t)}
`))}succeed(t){this.interval&&(clearInterval(this.interval),Zt.default.stdout.write(`\r${E(di.default.tick)} ${this.setFinishMessage(t)}
`))}};function lo(i){return new fi(i)}var _t=D(require("node:fs"),1),uo=D(require("node:path"),1);var pi=(i,t,e)=>{for(let r of _t.readdirSync(i)){if(r===".git")continue;let s=uo.resolve(i,r);if(_t.lstatSync(s).isDirectory()){pi(s,t,e),t(s);continue}e(s)}};var ao=require("node:path");function mi(i,t,e){return t==="install"?i==="yarn"?"yarn":`${i} install`:e?i==="npm"?`npm run ${t} -- ${e}`:`${i} ${t} ${e}`:i==="npm"?`npm run ${t}`:`${i} ${t}`}function gi(i,t,e,r,s){if(r.succeed(`${$("\u6A21\u677F\u521B\u5EFA\u5B8C\u6210\uFF01")}`),console.log(),i!==t){let n=(0,ao.relative)(t,i);console.log(`  ${$(E(`cd ${n.includes(" ")?`"${n}"`:n}`))}`)}console.log(`  ${$(E(mi(e,"i")))}`),s&&s.startsWith("hbx-")?console.log(`  ${$(E("\u8BF7\u901A\u8FC7 HBuilderX \u6253\u5F00\u9879\u76EE\u5E76\u8FD0\u884C\uFF01"))}`):console.log(`  ${$(E(mi(e,"dev")))}`),console.log()}var Xt=i=>[{name:"shouldOverwrite",type:t=>Wt(i??t)?null:"toggle",message:t=>{let e=i??t;return`${e==="."?"\u5F53\u524D\u6587\u4EF6":`\u76EE\u6807\u6587\u4EF6"${e}"`}\u975E\u7A7A\uFF0C\u662F\u5426\u8986\u76D6\uFF1F`},initial:!1,active:"\u662F",inactive:"\u5426"},{name:"overwriteChecker",type:t=>{if(t===!1)throw new Error(`${P(co.default.cross)} ${$("\u64CD\u4F5C\u5DF2\u53D6\u6D88")}`);return null}}];var fo=()=>[{name:"projectName",type:"text",message:"\u8BF7\u8F93\u5165\u9879\u76EE\u540D\u79F0:",initial:"uni-fteam-v3"},...Xt()];var Ct=[{title:`base${E("(\u63A8\u8350)")}`,description:`${P("(\u57FA\u7840\u6A21\u677F)")}`,value:{type:"base",branch:"main",url:{gitee:"https://gitee.com/cooliean/uni-fteam.git",github:"https://github.com/cooliean/uni-fteam.git"}}}];var po=()=>({name:"templateType",type:"select",message:"\u8BF7\u9009\u62E9 uni-app \u6A21\u677F\uFF1F",hint:"\u4F7F\u7528\u65B9\u5411\u952E\u9009\u62E9\uFF0C\u56DE\u8F66\u786E\u8BA4",choices:[...Ct],initial:0});async function bo(){let i=[...fo(),po()];return await(0,mo.default)(i,{onCancel:()=>{throw new Error(`${P(go.default.cross)} ${$("\u64CD\u4F5C\u5DF2\u53D6\u6D88")}`)}})}var pt;async function Lu(){ho();let i=(0,yo.default)(lt.default.argv.slice(2),{alias:{templateType:["t"]},string:["_"]}),t=i._[0],e={};if(t){let u=Ct.find(b=>b.value.type===i?.t)?.value;!u&&i?.templateType&&(console.log(`${P(Qt.default.cross)} ${$(`\u672A\u83B7\u53D6\u5230${i?.templateType}\u6A21\u677F`)}`),lt.default.exit(1));let T=async()=>{let b=()=>{throw new Error(`${P(Qt.default.cross)} ${$("\u64CD\u4F5C\u5DF2\u53D6\u6D88")}`)},c=Xt(t);try{return(await(0,wo.default)(c,{onCancel:b})).shouldOverwrite}catch{console.log(`${P(Qt.default.cross)} ${$("\u64CD\u4F5C\u5DF2\u53D6\u6D88")}`),lt.default.exit(1)}};e={projectName:t,shouldOverwrite:Wt(t)?!0:await T(),templateType:u||Ct[0].value}}else try{e=await bo()}catch(u){console.log(u.message),lt.default.exit(1)}pt=lo(`${$("\u6B63\u5728\u521B\u5EFA\u6A21\u677F...")}`).start();let r=lt.default.cwd(),s=(0,vo.join)(r,e.projectName),n="pnpm";function o(u){(0,H.existsSync)(u)&&pi(u,T=>(0,H.rmdirSync)(T),T=>(0,H.unlinkSync)(T))}if((0,H.existsSync)(s)&&e.shouldOverwrite?o(s):(0,H.existsSync)(s)||(0,H.mkdirSync)(s),e.templateType.type!=="custom"){let{templateType:u,projectName:T}=e;try{await no(u,T,s,pt)}catch{pt.fail(`${$("\u4E0B\u8F7D\u6A21\u677F\u5931\u8D25\uFF01")}`),lt.default.exit(1)}gi(s,r,n,pt,e.templateType.type);return}let h=[],l={};for(let u of h)await u(l);Kt(s,e.projectName),gi(s,r,n,pt)}Lu().catch(i=>{pt.fail(`${$("\u6A21\u677F\u521B\u5EFA\u5931\u8D25\uFF01")}`),console.error(i)});
